
<script>MathJax.Hub.Typeset();</script>

<style>
    .responsive-container {
        display: flex;
    }

    .solutions {
        white-space: nowrap;
        margin-right: 100px; 
        max-width: 40%;
    }

    .plot {
        flex-grow: 1;
        padding: 0;
        height: 100%;
        width: 40%;
    }

    .title {
        margin-bottom: 10px; 
    }

    .input-text {
        margin-top: 0; 
    }

    @media (max-width: 900px) { 

        .responsive-container {
            flex-direction: column; 
        }

        .solutions {
            margin-right: 10; 
            max-width: 100%; 
        }

        .plot {
            margin-top: 20px; 
            width: 95%;
            margin:auto;
            touch-action: manipulation;
        }
    }

    .explanation-button-container {
        display: flex;
        flex-direction: column; /* Ensure items stack vertically */
        align-items: center; /* Center horizontally */
        margin-top: 20px; 
    }

    #explanation-button {
        margin-bottom: 10px; /* Space between button and text */
    }

    #explanation-text {
        margin-top: 10px; /* Space above the text if needed */
        text-align: center; /* Center align the text */
    }

</style>

<br><br><br>
<div class="container">
    <h1 class="title" style="font-size: 28px; font-weight: bold;">Oplossing van de Vergelijking</h1><br><br>
    <div class="responsive-container">
        <div class="solutions">
            <p class="input-text" style="font-size: 24px;">Invoer: {{ equation_text }}</p>
            <p style="font-size: 24px;">Interpretatie: {{ equation_interpret }}</p>
            <div class="arithmatex" style="font-size: 20px; margin-left: auto;">{{ solutions|safe }}</div>
        </div>
        <div id="plot" class="plot"></div>
    </div>

    <!-- <div class="explanation-button-container">
        <button id="explanation-button" class="md-button md-button--primary">Uitleggen <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 17a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9.46c.35.61.54 1.3.54 2h10v11h-9v2m4-10v2H9v13H7v-6H5v6H3v-8H1.5V9a2 2 0 0 1 2-2H15M8 4a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2Z"/></svg></span></button>
        <div id="explanation-text">{{ explanation }}</div>
    </div> -->

</div>


{% if plot %}
    <script>
        var plotData = {{ plot_data|safe }} 
        var x_range = {{ x_range|safe }}
        var y_range = {{ y_range|safe }}
        var layout = {
            autosize: true,
            xaxis: {range: x_range},  
            yaxis: {range: y_range},
            margin: {l: 25, r: 0, b: 25, t: 20, pad: 0},
            legend: {
                x: 0.98,
                y: 1,
                xanchor: 'right',
                yanchor: 'top',
            },
            dragmode: 'pan',  
        };
        var config = {modeBarButtonsToRemove: ['autoScale2d'], displaylogo: false, scrollZoom: true};
        Plotly.newPlot('plot', plotData, layout, config);

        window.setTimeout(function() {
            Plotly.relayout('plot', 'autosize', true);
        }, 1000);  // Delay in milliseconds

        // Resize plot on window resize
        window.addEventListener('resize', function() {
            Plotly.Plots.resize(document.getElementById('plot'));
        });

    </script>
{% endif %}
